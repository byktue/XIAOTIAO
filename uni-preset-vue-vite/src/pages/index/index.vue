<template>
  <view class="page">
    <!-- çŠ¶æ€æ  -->
    <view class="status-bar">
      <text>9:41</text>
      <text>ğŸ“¶ ğŸ”‹</text>
    </view>

    <!-- è‹±é›„åŒº -->
    <view class="hero">
      <view class="hero-content">
        <text class="hero-title">æ™ºæ…§ç”Ÿæ´»</text>
        <text class="hero-sub">è€å¹´äººä¸“å±çš„æ™ºèƒ½æœåŠ¡å¹³å°</text>
        <view class="hero-stats">
          <view class="stat-item">
            <text class="stat-num">1000+</text>
            <text class="stat-label">ç²¾é€‰è¯¾ç¨‹</text>
          </view>
          <view class="stat-item">
            <text class="stat-num">500+</text>
            <text class="stat-label">ä¼˜è´¨å•†å“</text>
          </view>
          <view class="stat-item">
            <text class="stat-num">10ä¸‡+</text>
            <text class="stat-label">æ´»è·ƒç”¨æˆ·</text>
          </view>
        </view>
      </view>
    </view>

    <!-- å¿«æ·å…¥å£ -->
    <view class="section">
      <view class="sec-head">
        <text class="sec-title">å¿«æ·æœåŠ¡</text>
      </view>
      <view class="quick-grid">
        <view class="quick-item" @tap="goToCourse">
          <view class="quick-icon">ğŸ“š</view>
          <text class="quick-text">å­¦ä¹ è¯¾ç¨‹</text>
        </view>
        <view class="quick-item" @tap="goToShop">
          <view class="quick-icon">ğŸ›’</view>
          <text class="quick-text">æ™ºèƒ½è´­ç‰©</text>
        </view>
        <view class="quick-item" @tap="goToCommunity">
          <view class="quick-icon">ğŸ‘¥</view>
          <text class="quick-text">ç¤¾åŒºäº¤æµ</text>
        </view>
        <view class="quick-item" @tap="goToProfile">
          <view class="quick-icon">ğŸ‘¤</view>
          <text class="quick-text">ä¸ªäººä¸­å¿ƒ</text>
        </view>
      </view>
    </view>

    <!-- ä»Šæ—¥æ¨è -->
    <view class="section">
      <view class="sec-head">
        <text class="sec-title">ä»Šæ—¥æ¨è</text>
        <text class="more">æŸ¥çœ‹æ›´å¤š</text>
      </view>
      <view class="recommend-list">
        <view v-for="item in recommendations" :key="item.id" class="recommend-card animate" @tap="() => openRecommend(item)">
          <view class="recommend-thumb" :style="item.thumbStyle">
            <text class="recommend-icon">{{ item.icon }}</text>
          </view>
          <view class="recommend-body">
            <text class="recommend-title">{{ item.title }}</text>
            <text class="recommend-desc">{{ item.desc }}</text>
            <view class="recommend-meta">
              <text class="recommend-type">{{ item.type }}</text>
              <text class="recommend-hot">ğŸ”¥ {{ item.hot }}</text>
            </view>
          </view>
        </view>
      </view>
    </view>

    <!-- æœ€æ–°åŠ¨æ€ -->
    <view class="section">
      <view class="sec-head">
        <text class="sec-title">æœ€æ–°åŠ¨æ€</text>
        <text class="more">æŸ¥çœ‹å…¨éƒ¨</text>
      </view>
      <view class="news-list">
        <view v-for="news in newsList" :key="news.id" class="news-item animate" @tap="() => openNews(news)">
          <view class="news-dot"></view>
          <view class="news-content">
            <text class="news-title">{{ news.title }}</text>
            <text class="news-time">{{ news.time }}</text>
          </view>
        </view>
      </view>
    </view>

    <view class="spacer" />
  </view>
</template>

<script setup>
import { ref } from 'vue'

const recommendations = ref([
  {
    id: 'r1',
    title: 'æ™ºèƒ½æ‰‹æœºå…¥é—¨æ•™ç¨‹',
    desc: 'ä»é›¶å¼€å§‹å­¦ä¼šä½¿ç”¨æ™ºèƒ½æ‰‹æœº',
    type: 'è¯¾ç¨‹æ¨è',
    hot: 'çƒ­é—¨',
    icon: 'ğŸ“±',
    thumbStyle: 'background: linear-gradient(45deg, #667eea, #764ba2)'
  },
  {
    id: 'r2',
    title: 'æ™ºèƒ½è¡€å‹è®¡',
    desc: 'å®¶å±è¿œç¨‹ç›‘æ§ï¼Œå¥åº·æœ‰ä¿éšœ',
    type: 'å•†å“æ¨è',
    hot: 'æ–°å“',
    icon: 'ğŸ©º',
    thumbStyle: 'background: linear-gradient(45deg, #ff6b6b, #ffa726)'
  },
  {
    id: 'r3',
    title: 'å¥åº·å…»ç”Ÿäº¤æµ',
    desc: 'åˆ†äº«å…»ç”Ÿå¿ƒå¾—ï¼Œäº’ç›¸å­¦ä¹ ',
    type: 'ç¤¾åŒºè¯é¢˜',
    hot: 'æ´»è·ƒ',
    icon: 'â¤ï¸',
    thumbStyle: 'background: linear-gradient(45deg, #4ecdc4, #44a08d)'
  }
])

const newsList = ref([
  { id: 'n1', title: 'å¹³å°æ–°å¢è¯­éŸ³æœç´¢åŠŸèƒ½ï¼Œæ“ä½œæ›´ä¾¿æ·', time: '2å°æ—¶å‰' },
  { id: 'n2', title: 'æœ¬å‘¨æ–°è¯¾ç¨‹ï¼šã€Šå¾®ä¿¡æ”¯ä»˜å®‰å…¨æŒ‡å—ã€‹', time: '5å°æ—¶å‰' },
  { id: 'n3', title: 'ç¤¾åŒºæ´»åŠ¨ï¼šè€å¹´æ‘„å½±å¤§èµ›å¼€å§‹æŠ¥å', time: '1å¤©å‰' },
  { id: 'n4', title: 'å•†åŸä¸Šæ–°ï¼šé€‚è€åŒ–æ™ºèƒ½æ‰‹è¡¨é™æ—¶ä¼˜æƒ ', time: '2å¤©å‰' }
])

function goToCourse() {
  uni.switchTab({ url: '/pages/course/index' })
}

function goToShop() {
  uni.switchTab({ url: '/pages/shop/index' })
}

function goToCommunity() {
  uni.switchTab({ url: '/pages/community/index' })
}

function goToProfile() {
  uni.switchTab({ url: '/pages/profile/index' })
}

function openRecommend(item) {
  uni.showToast({ title: `æŸ¥çœ‹æ¨èï¼š${item.title}`, icon: 'none' })
}

function openNews(news) {
  uni.showToast({ title: `æŸ¥çœ‹åŠ¨æ€ï¼š${news.title}`, icon: 'none' })
}
</script>

<style scoped>
.page {
  background: #f8f9fa;
  min-height: 100vh;
  color: #1d2129;
  font-size: 36rpx;
  line-height: 1.6;
}

/* çŠ¶æ€æ  */
.status-bar {
  height: 88rpx;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 36rpx;
  font-weight: 600;
}

/* è‹±é›„åŒº */
.hero {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: #fff;
  padding: 48rpx 36rpx;
}
.hero-content {
  text-align: center;
}
.hero-title {
  font-size: 56rpx;
  font-weight: 700;
  margin-bottom: 16rpx;
}
.hero-sub {
  opacity: .9;
  font-size: 32rpx;
  margin-bottom: 48rpx;
  display: block;
}
.hero-stats {
  display: flex;
  justify-content: space-around;
  gap: 32rpx;
}
.stat-item {
  text-align: center;
}
.stat-num {
  display: block;
  font-size: 40rpx;
  font-weight: 700;
  margin-bottom: 8rpx;
}
.stat-label {
  font-size: 26rpx;
  opacity: .8;
}

/* åŒºå— */
.section {
  padding: 32rpx 28rpx;
}
.sec-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 24rpx;
}
.sec-title {
  font-size: 36rpx;
  font-weight: 700;
}
.more {
  color: #667eea;
  font-size: 28rpx;
}

/* å¿«æ·å…¥å£ */
.quick-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 24rpx;
}
.quick-item {
  background: #fff;
  border-radius: 24rpx;
  padding: 32rpx 16rpx;
  text-align: center;
  box-shadow: 0 4rpx 20rpx rgba(0,0,0,.06);
  transition: transform .2s;
}
.quick-item:active {
  transform: scale(.95);
}
.quick-icon {
  width: 80rpx;
  height: 80rpx;
  background: linear-gradient(135deg, #667eea, #764ba2);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 40rpx;
  margin: 0 auto 16rpx;
}
.quick-text {
  font-size: 28rpx;
  color: #5c6670;
}

/* æ¨èåˆ—è¡¨ */
.recommend-list {
  display: flex;
  flex-direction: column;
  gap: 20rpx;
}
.recommend-card {
  display: flex;
  gap: 20rpx;
  background: #fff;
  border-radius: 24rpx;
  padding: 20rpx;
  box-shadow: 0 4rpx 20rpx rgba(0,0,0,.06);
}
.recommend-thumb {
  width: 120rpx;
  height: 120rpx;
  border-radius: 20rpx;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 48rpx;
  flex-shrink: 0;
}
.recommend-body {
  flex: 1;
}
.recommend-title {
  font-size: 32rpx;
  font-weight: 600;
  margin-bottom: 8rpx;
}
.recommend-desc {
  font-size: 28rpx;
  color: #7b8794;
  margin-bottom: 12rpx;
}
.recommend-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.recommend-type {
  background: linear-gradient(135deg, #667eea, #764ba2);
  color: #fff;
  padding: 4rpx 12rpx;
  border-radius: 12rpx;
  font-size: 24rpx;
}
.recommend-hot {
  color: #ff6b6b;
  font-size: 24rpx;
  font-weight: 600;
}

/* åŠ¨æ€åˆ—è¡¨ */
.news-list {
  display: flex;
  flex-direction: column;
  gap: 24rpx;
}
.news-item {
  display: flex;
  align-items: center;
  gap: 20rpx;
  background: #fff;
  border-radius: 16rpx;
  padding: 24rpx;
  box-shadow: 0 2rpx 12rpx rgba(0,0,0,.04);
}
.news-dot {
  width: 16rpx;
  height: 16rpx;
  background: #667eea;
  border-radius: 50%;
  flex-shrink: 0;
}
.news-content {
  flex: 1;
}
.news-title {
  font-size: 30rpx;
  margin-bottom: 8rpx;
  line-height: 1.5;
}
.news-time {
  color: #7b8794;
  font-size: 24rpx;
}

/* åŠ¨æ•ˆ */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(32rpx) }
  to { opacity: 1; transform: translateY(0) }
}
.animate {
  animation: fadeUp .5s ease-out;
}

.spacer {
  height: 80rpx;
  padding-bottom: constant(safe-area-inset-bottom);
  padding-bottom: env(safe-area-inset-bottom);
}
</style>
